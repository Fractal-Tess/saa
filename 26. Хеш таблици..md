_Хеш таблици. Основна идея, хеш-функции, избор на оптимална функция. Примери с python._



# Хеш таблици

## Основна идея

Хеш таблиците са структури от данни, които позволяват бързо търсене, вмъкване и изтриване на елементи. Те използват хеш функция за да преобразуват ключове в индекси на масив, където се съхраняват стойностите. Основната идея е да се постигне константно време за достъп до елементите (O(1)) в средния случай.

## Хеш-функции

Хеш-функцията е функция, която приема ключ и връща индекс в масива. Идеалната хеш-функция трябва да разпределя ключовете равномерно в масива, за да се избегнат колизии (когато два различни ключа се преобразуват в един и същ индекс).

### Свойства на добра хеш-функция:
1. **Детерминистична**: Един и същ ключ винаги трябва да води до един и същ индекс.
2. **Ефективност**: Трябва да бъде бърза за изчисляване.
3. **Равномерно разпределение**: Ключовете трябва да се разпределят равномерно в масива, за да се минимизират колизиите.

## Избор на оптимална хеш-функция

Изборът на хеш-функция зависи от вида на ключовете и специфичните изисквания на приложението. Някои често използвани хеш-функции включват:
- **Модулна аритметика**: Използва се остатъкът от делението на ключа с размера на масива.
- **Универсално хеширане**: Използва се семейство от хеш-функции, които се избират на случаен принцип.
- **Хеширане на низове**: Използват се различни алгоритми като DJB2, FNV-1 и други.

## Примери с Python

В Python, хеш таблиците са реализирани чрез вградените структури `dict` и `set`. Те използват вградени хеш-функции за да осигурят бърз достъп до елементите.

### Пример 1: Създаване и използване на речник (dict)

```python
# Създаване на речник
my_dict = {'apple': 1, 'banana': 2, 'cherry': 3}

# Достъп до стойност по ключ
print(my_dict['banana'])  # Изход: 2

# Добавяне на нов елемент
my_dict['date'] = 4

# Премахване на елемент
del my_dict['cherry']

# Итерация през речника
for key, value in my_dict.items():
    print(f"{key}: {value}")
```

### Пример 2: Използване на хеш функция

```python
# Вградена хеш функция в Python
key = "hello"
hash_value = hash(key)
print(f"Хеш стойност на '{key}': {hash_value}")

# Използване на хеш стойност за индекс в масив
index = hash_value % 10  # Предполагаме, че масивът има размер 10
print(f"Индекс в масива: {index}")
```

### Пример 3: Създаване на собствена хеш функция

```python
def simple_hash(key, size):
    return sum(ord(char) for char in key) % size

# Примерно използване
key = "example"
size = 10
hash_index = simple_hash(key, size)
print(f"Индекс за ключ '{key}': {hash_index}")
```

Тези примери илюстрират как хеш таблиците могат да бъдат използвани в Python за ефективно съхранение и достъп до данни.
