_Динамика на сортировка. Базирани на пирамида алгоритми. Конвертиране в пирамида. Сортиране на пирамида._

# Динамика на сортировка. Базирани на пирамида алгоритми

## Въведение
Сортирането е основна операция в компютърните науки, използвана за организиране на данни в определен ред. Един от най-ефективните методи за сортиране е този, базиран на пирамида (heap). Този подход използва структурата на данни, наречена пирамида, която позволява бързо извличане на максималния или минималния елемент.

## Пирамида (Heap)
Пирамидата е специален вид двоично дърво, което удовлетворява свойството на пирамидата:
- **Максимална пирамида**: Всеки възел е по-голям или равен на своите деца.
- **Минимална пирамида**: Всеки възел е по-малък или равен на своите деца.

Пирамидата може да бъде представена като масив, където:
- Коренът е на позиция 0.
- За всеки възел на позиция `i`:
  - Лявото дете е на позиция `2i + 1`.
  - Дясното дете е на позиция `2i + 2`.

## Конвертиране в пирамида
За да се преобразува масив в пирамида, трябва да се приложи операцията "heapify". Тя гарантира, че поддървото с корен даден възел удовлетворява свойството на пирамидата.

### Алгоритъм за heapify:
1. Започва се от последния възел, който има деца.
2. За всеки възел се проверява дали е по-голям (или по-малък) от своите деца.
3. Ако не е, се разменя с по-голямото (или по-малкото) дете.
4. Процесът се повтаря рекурсивно за засегнатото дете.

## Сортиране на пирамида (Heapsort)
След като масивът е преобразуван в пирамида, може да се използва за сортиране. Основната идея е:
1. Да се извлече коренът (най-големият или най-малкият елемент) и да се постави в края на масива.
2. Да се намали размерът на пирамидата с 1.
3. Да се приложи heapify за новия корен.
4. Да се повтаря процесът, докато всички елементи бъдат сортирани.

### Стъпки на Heapsort:
1. Построяване на пирамида от масива.
2. Извличане на корена и поставяне в края на масива.
3. Намаляване на размера на пирамидата.
4. Повторение на процеса, докато масивът бъде сортиран.

## Примери
### Пример 1: Сортиране на масив
Даден е масив `[4, 10, 3, 5, 1]`. След прилагане на heapsort, масивът ще бъде сортиран във възходящ ред: `[1, 3, 4, 5, 10]`.

### Пример 2: Сортиране на низходящ ред
Ако се използва минимална пирамида, масивът може да бъде сортиран в низходящ ред. Например, масив `[7, 2, 9, 1, 6]` ще бъде сортиран като `[9, 7, 6, 2, 1]`.

## Заключение
Сортирането чрез пирамида е мощен алгоритъм, който предлага баланс между ефективност и простота на реализация. Той е особено полезен в ситуации, където е необходим стабилен и бърз метод за сортиране на големи обеми данни.
