_Бързо сортиране. Стратегии за разделяне. Избор на разделящ елемент. Примери с Python._


# Бързо сортиране (Quick Sort)

Бързото сортиране е един от най-ефективните алгоритми за сортиране, който използва стратегията "разделяй и владей". Той работи чрез избор на разделящ елемент (pivot) и разделяне на масива на две части: елементи, по-малки от pivot, и елементи, по-големи от pivot. След това алгоритъмът рекурсивно сортира двете части.

## Стратегии за разделяне

1. **Избор на първия елемент като pivot**:
   - Най-простата стратегия е изборът на първия елемент от масива като pivot. Това обаче може да доведе до лоша производителност при вече сортирани или почти сортирани масиви.

2. **Избор на последния елемент като pivot**:
   - Подобно на избора на първия елемент, изборът на последния елемент също може да доведе до лоша производителност в определени случаи.

3. **Избор на средния елемент като pivot**:
   - Изборът на средния елемент като pivot може да подобри производителността, тъй като намалява вероятността от лоши случаи.

4. **Избор на случаен елемент като pivot**:
   - Изборът на случаен елемент като pivot намалява вероятността от лоши случаи и подобрява средната производителност на алгоритъма.

5. **Използване на медиана от три**:
   - Тази стратегия избира pivot като медиана на първия, средния и последния елемент. Това подобрява производителността, особено при големи масиви.

## Избор на разделящ елемент (pivot)

Изборът на pivot е критичен за ефективността на бързото сортиране. Лошият избор на pivot може да доведе до времева сложност O(n²), докато добрият избор може да доведе до времева сложност O(n log n).

## Примери с Python

Ето примерна реализация на бързо сортиране в Python:

```python
def quick_sort(arr):
    if len(arr) <= 1:
        return arr
    pivot = arr[len(arr) // 2]  # Избор на средния елемент като pivot
    left = [x for x in arr if x < pivot]
    middle = [x for x in arr if x == pivot]
    right = [x for x in arr if x > pivot]
    return quick_sort(left) + middle + quick_sort(right)

# Примерно използване
arr = [3, 6, 8, 10, 1, 2, 1]
sorted_arr = quick_sort(arr)
print(sorted_arr)
```

В този пример използваме средния елемент като pivot и рекурсивно сортираме лявата и дясната част на масива. Резултатът е сортиран масив.

### Пример с избор на случаен pivot

```python
import random

def quick_sort_random(arr):
    if len(arr) <= 1:
        return arr
    pivot = random.choice(arr)  # Избор на случаен елемент като pivot
    left = [x for x in arr if x < pivot]
    middle = [x for x in arr if x == pivot]
    right = [x for x in arr if x > pivot]
    return quick_sort_random(left) + middle + quick_sort_random(right)

# Примерно използване
arr = [3, 6, 8, 10, 1, 2, 1]
sorted_arr = quick_sort_random(arr)
print(sorted_arr)
```

Този пример използва случаен елемент като pivot, което намалява вероятността от лоши случаи и подобрява производителността на алгоритъма.
